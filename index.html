<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Document Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        
        
        <div class="input-section-container">
            <section class="input-section">
                <h3 class="section-title">Create a professionally crafted and well-formatted document.</h3>
                <div class="input-form">
                    <div style="display: flex; justify-content: center;">
                        <textarea id="topic-description" placeholder="Example: Generate a comprehensive and well-structured overview of Imam Al-Ghazali." style="width:600px;"></textarea>
                    </div>
                    
                    <div class="error-message" id="error-message"></div>
                    <div class="style-selector">
                            <span class="style-label">Select writing style: </span> </div>
                    <div class="button-container">
                        
                        <div class="style-cards">
                            <div class="style-card active" data-style="default">
                                <div class="card-content">
                                    <span class="card-text">Default</span>
                                </div>
                            </div>
                            <div class="style-card" data-style="nytimes">
                                <div class="card-content">
                                    <img src="icons/NYT.jpg" alt="NY Times" class="logo-card">
                                </div>
                            </div>
                            <div class="style-card" data-style="guardian">
                                <div class="card-content">
                                    <img src="icons/Guardian.png" alt="The Guardian" class="logo-card">
                                </div>
                            </div>
                            <div class="style-card" data-style="washington">
                                <div class="card-content">
                                    <img src="icons/WashingtonPost.png" alt="Washington Post" class="logo-card">
                                </div>
                            </div>
                            <div class="style-card" data-style="wsj">
                                <div class="card-content">
                                    <img src="icons/WSJ.png" alt="Wall Street Journal" class="logo-card">
                                </div>
                            </div>
                        
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center; gap: 16px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <button id="generate-btn" style="width: 300px;">Generate Document</button>
                                <button id="settings-btn" class="settings-btn" title="AI Model Settings" style="width: 50px; height: 50px; font-size: 1.2rem;">
                                    ⚙️
                                </button>
                            </div>
                            <p class="status" id="status-message">Progress</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <section class="output-section">
            <h2 class="section-title">Generated Document</h2>
            
            <div class="step-indicator">
                <div class="step active" id="step-1">
                    <div class="step-number">1</div>
                    <div class="step-label">Create Structure</div>
                </div>
                <div class="loading" id="loading" style="display: none;">
                    <div class="spinner"></div>
                    <div class="loading-percentage" id="loading-percentage">0%</div>
                </div>
                <div class="step" id="step-2">
                    <div class="step-number">2</div>
                    <div class="step-label">Generate Content</div>
                </div>
            </div>
            
            <div class="document-preview" id="document-preview">
                <div class="markdown-output" id="markdown-output">
                    <div class="document-placeholder">
                        <div class="document-content">
                            <h1 class="document-title">Document Title</h1>
                            <div class="document-meta">
                                <span class="document-date">Generated on: </span>
                                <span class="document-style">Style: Default</span>
                            </div>
                            
                            <h2>1. Introduction</h2>
                            <p>Content will appear here</p>
                            
                            <h2>2. Main Content</h2>
                            <h3>2.1 First Topic</h3>
                            <p>Content will appear here</p>
                            <h3>2.2 Second Topic</h3>
                            <p>Content will appear here</p>
                            
                            <h2>3. Conclusion</h2>
                            <p>Content will appear here</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button id="copy-btn" disabled>Copy to Clipboard</button>
                <div class="download-container">
                    <input type="text" id="filename-input" placeholder="document.html" disabled>
                    <button id="download-btn" disabled>Save as HTML</button>
                </div>
            </div>
        </section>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>AI Model Settings</h2>
                <button id="settings-close" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="api-key-input">OpenRouter API Key:</label>
                    <input type="password" id="api-key-input" placeholder="Enter your OpenRouter API key">
                    <p class="setting-description">
                        Get your API key from <a href="https://openrouter.ai/keys" target="_blank">OpenRouter</a>
                    </p>
                </div>
                
                <div class="setting-group">
                    <label for="model-select">Select AI Models:</label>
                    <select id="model-select" multiple size="6">
                        <option value="openai/gpt-oss-20b:free">GPT OSS 20B (Free)</option>
                        <option value="meta-llama/llama-3.3-8b-instruct:free">Llama 3.3 8B Instruct (Free)</option>
                        <option value="google/gemini-2.0-flash-exp:free">Gemini 2.0 Flash (Free)</option>
                        <option value="anthropic/claude-3.5-sonnet">Claude 3.5 Sonnet</option>
                        <option value="openai/gpt-4o">GPT-4o</option>
                        <option value="meta-llama/llama-3.1-8b-instruct">Llama 3.1 8B Instruct</option>
                    </select>
                    <p class="setting-description">
                        Hold Ctrl/Cmd to select multiple models. Models will be tried in order.
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="settings-cancel" class="btn-secondary">Cancel</button>
                <button id="settings-save" class="btn-primary">Save Settings</button>
            </div>
        </div>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.2/marked.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
